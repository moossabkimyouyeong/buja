<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ì í‚¤ìš°ê¸° RPG - ì‹œí¬ë¦¿ ì—ë””ì…˜</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; background-color: #f0f2f5; color: #333; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .game-container { max-width: 450px; width: 100%; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border-top: 8px solid #2ecc71; }
        
        .header { text-align: center; margin-bottom: 20px; }
        .money-display { font-size: 2.5rem; font-weight: bold; color: #2c3e50; text-align: center; margin: 10px 0; }
        .stat-info { font-size: 1rem; color: #7f8c8d; text-align: center; margin-bottom: 20px; }

        #main-click-btn { width: 100%; height: 120px; border: none; border-radius: 15px; background: #2ecc71; color: white; font-size: 1.5rem; font-weight: bold; cursor: pointer; transition: all 0.1s; box-shadow: 0 6px #27ae60; margin-bottom: 25px; }
        #main-click-btn:active { transform: translateY(4px); box-shadow: 0 2px #27ae60; }

        .section-title { font-size: 1.1rem; font-weight: bold; margin: 15px 0 10px; border-left: 4px solid #2ecc71; padding-left: 10px; }
        .grid-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        
        button.action-btn { padding: 15px 10px; border: 1px solid #ddd; border-radius: 10px; background: #fff; cursor: pointer; transition: all 0.2s; font-size: 0.9rem; font-weight: bold; }
        button.action-btn:hover:not(:disabled) { background: #f9f9f9; border-color: #2ecc71; color: #2ecc71; }
        button.action-btn:disabled { opacity: 0.5; cursor: not-allowed; background: #eee; }
        .price { display: block; font-size: 0.8rem; color: #e67e22; margin-top: 5px; }

        /* ìë™ í´ë¦­ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #auto-toggle-btn { width: 100%; padding: 15px; margin-top: 10px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; display: none; }
        .auto-on { background-color: #e74c3c; color: white; }
        .auto-off { background-color: #3498db; color: white; }

        #log { height: 50px; margin-top: 20px; padding: 12px; background: #f9f9f9; border-radius: 8px; font-size: 0.85rem; color: #555; border: 1px inset #eee; display: flex; align-items: center; justify-content: center; text-align: center; }

        .secret-area { margin-top: 15px; text-align: right; }
        .secret-btn { background: none; border: none; color: #bdc3c7; cursor: pointer; font-size: 0.8rem; }

        .donation-box { margin-top: 25px; padding: 15px; background: #fff9e6; border-radius: 12px; border: 1px solid #f1c40f; width: 100%; max-width: 450px; box-sizing: border-box; text-align: center; }
        .donation-info { font-size: 0.9rem; color: #444; line-height: 1.6; }
    </style>
</head>
<body>

    <div class="game-container">
        <div class="header"><h1>ğŸ’° ë¶€ì í‚¤ìš°ê¸°</h1></div>
        <div class="money-display">â‚© <span id="money">0</span></div>
        <div class="stat-info">í˜„ì¬ í´ë¦­ë‹¹ ìˆ™ë ¨ë„: <span id="power">1</span></div>

        <button id="main-click-btn" onclick="earnMoney()">ëˆ ë²Œê¸° (í´ë¦­!)</button>

        <button id="auto-toggle-btn" onclick="toggleAutoClick()" class="auto-off">ìë™ í´ë¦­: OFF</button>

        <div class="section-title">ğŸ¢ ìƒì </div>
        <div class="grid-buttons">
            <button class="action-btn" id="btn-upgrade" onclick="buyUpgrade()">í´ë¦­ ê°•í™” (+1)<span class="price" id="price-upgrade">ë¹„ìš©: 100</span></button>
            <button class="action-btn" id="btn-office" onclick="buyOffice()">ì „ë¬¸ê°€ ê³ ìš© (+10)<span class="price" id="price-office">ë¹„ìš©: 1,500</span></button>
        </div>

        <div class="section-title">ğŸ² í–‰ìš´</div>
        <div class="grid-buttons">
            <button class="action-btn" onclick="playGacha()">ì¥ë¹„ ë½‘ê¸°<span class="price">ë¹„ìš©: 500</span></button>
            <button class="action-btn" onclick="resetGame()">ì´ˆê¸°í™”</button>
        </div>

        <div id="log">í™˜ì˜í•©ë‹ˆë‹¤!</div>

        <div class="secret-area">
            <button class="secret-btn" onclick="checkSecretCode()">[ì½”ë“œ ì…ë ¥]</button>
        </div>
    </div>

    <div class="donation-box">
        <div style="font-weight:bold; color:#d35400;">â˜• ê°œë°œì í›„ì›í•˜ê¸°</div>
        <div class="donation-info">
            <strong>KBêµ­ë¯¼ì€í–‰</strong> 604490-74-445627 (ì˜ˆê¸ˆì£¼: ì„ì¢…í˜)
        </div>
    </div>

    <script>
        let state = {
            money: 0,
            power: 1,
            upgradeCost: 100,
            officeCost: 1500,
            isAutoUnlocked: false,
            isAutoOn: false
        };

        const SAVE_KEY = "rich_rpg_v2";
        let autoInterval = null;

        // [í•µì‹¬] ì½”ë“œ í™•ì¸ ê¸°ëŠ¥
        function checkSecretCode() {
            const code = prompt("ë¹„ë°€ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            if (code === "moossam") {
                state.isAutoUnlocked = true;
                addLog("âœ¨ ê´€ë¦¬ì ê¶Œí•œ ìŠ¹ì¸: ìë™ í´ë¦­ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤!");
                updateUI();
                saveGame();
            } else {
                alert("ì½”ë“œê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
            }
        }

        // [í•µì‹¬] ìë™ í´ë¦­ í† ê¸€
        function toggleAutoClick() {
            state.isAutoOn = !state.isAutoOn;
            if (state.isAutoOn) {
                addLog("â–¶ ìë™ í´ë¦­ ì‹œì‘!");
                startAutoClick();
            } else {
                addLog("â¹ ìë™ í´ë¦­ ì •ì§€.");
                stopAutoClick();
            }
            updateUI();
            saveGame();
        }

        function startAutoClick() {
            if (autoInterval) clearInterval(autoInterval);
            autoInterval = setInterval(() => {
                earnMoney();
            }, 100); // 0.1ì´ˆë§ˆë‹¤ í´ë¦­ (ë§¤ìš° ë¹ ë¦„)
        }

        function stopAutoClick() {
            clearInterval(autoInterval);
            autoInterval = null;
        }

        function earnMoney() {
            state.money += state.power;
            updateUI();
        }

        function buyUpgrade() {
            if (state.money >= state.upgradeCost) {
                state.money -= state.upgradeCost;
                state.power += 1;
                state.upgradeCost = Math.floor(state.upgradeCost * 1.6);
                updateUI();
                saveGame();
            }
        }

        function buyOffice() {
            if (state.money >= state.officeCost) {
                state.money -= state.officeCost;
                state.power += 10;
                state.officeCost = Math.floor(state.officeCost * 1.8);
                updateUI();
                saveGame();
            }
        }

        function playGacha() {
            if (state.money >= 500) {
                state.money -= 500;
                const rand = Math.random() * 100;
                let gain = rand > 90 ? 50 : (rand > 50 ? 10 : 0);
                state.power += gain;
                addLog(gain > 0 ? `ë½‘ê¸° ì„±ê³µ! íŒŒì›Œ +${gain}` : "ê½ì…ë‹ˆë‹¤.");
                updateUI();
                saveGame();
            }
        }

        function updateUI() {
            document.getElementById('money').innerText = state.money.toLocaleString();
            document.getElementById('power').innerText = state.power.toLocaleString();
            document.getElementById('price-upgrade').innerText = `ë¹„ìš©: ${state.upgradeCost.toLocaleString()}`;
            document.getElementById('price-office').innerText = `ë¹„ìš©: ${state.officeCost.toLocaleString()}`;

            // ìë™ í´ë¦­ ë²„íŠ¼ ì²˜ë¦¬
            const autoBtn = document.getElementById('auto-toggle-btn');
            if (state.isAutoUnlocked) {
                autoBtn.style.display = "block";
                autoBtn.innerText = state.isAutoOn ? "ìë™ í´ë¦­: ON" : "ìë™ í´ë¦­: OFF";
                autoBtn.className = state.isAutoOn ? "auto-on" : "auto-off";
            }
        }

        function addLog(msg) { document.getElementById('log').innerText = msg; }
        function saveGame() { localStorage.setItem(SAVE_KEY, JSON.stringify(state)); }
        
        function loadGame() {
            const saved = localStorage.getItem(SAVE_KEY);
            if (saved) {
                state = JSON.parse(saved);
                if (state.isAutoOn) startAutoClick();
            }
            updateUI();
        }

        function resetGame() {
            if (confirm("ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                localStorage.removeItem(SAVE_KEY);
                location.reload();
            }
        }

        window.onload = loadGame;
    </script>
</body>
</html>
